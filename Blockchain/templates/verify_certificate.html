<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Certificate Verification</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <script>
        // This function updates the verification options based on the department selected
        function updateVerificationOption() {
            var department = document.getElementById('department').value;
            var verificationOptions = document.getElementById('verificationOptions');
            var uploadOption = document.getElementById('uploadOption');
            var certificateIdOption = document.getElementById('certificateIdOption');

            // Show verification options only if a department is selected
            if (department !== '') {
                verificationOptions.style.display = 'block';
            } else {
                verificationOptions.style.display = 'none';
            }
        }

        // This function verifies certificate by either uploaded document or certificate ID
        function verifyCertificate() {
            var department = document.getElementById('department').value;
            var fileInput = document.getElementById('fileUpload');
            var certificateIdInput = document.getElementById('certificateIdInput');
            
            // Check if either the file is uploaded or the certificate ID is entered
            if (fileInput.files.length === 0 && certificateIdInput.value === '') {
                alert('Please either upload a document or enter a certificate ID.');
                return;
            }

            // If file is uploaded
            if (fileInput.files.length > 0) {
                alert('Document uploaded successfully for ' + department + ' verification.');
                // Add your backend code here to send the uploaded file for verification
            } else {
                alert('Verifying certificate ID: ' + certificateIdInput.value);
                // Add your backend code here to verify the certificate ID in your system
            }
        }
    </script>
</head>
<body>
    <div class="container">
        <h1 class="certificate-verification-heading">Certificate Verification</h1>
        <form id="verificationForm">
            <label for="department">Select Department:</label>
            <select id="department" name="department" onchange="updateVerificationOption()">
                <option value="">Select a Department</option>
                <option value="health">Health</option>
                <option value="education">Education</option>
                <option value="vehicle">Vehicle</option>
                <option value="other">Other</option>
            </select><br><br>

            <!-- Verification options will appear here -->
            <div id="verificationOptions" style="display:none;">
                <div id="certificateVerificationBox">
                    <h2>Certificate Verification</h2>
                    <p class="verification-text">Please upload a document or enter the certificate ID to verify.</p>

                    <!-- Option 1: Upload Certificate for Verification -->
                    <div id="uploadOption">
                        <h3>Upload Certificate for Verification:</h3>
                        <label for="fileUpload">Upload Certificate (PDF):</label>
                        <input type="file" id="fileUpload" name="fileUpload" accept="application/pdf"><br><br>
                    </div>

                    <!-- Option 2: Enter Certificate ID to Verify -->
                    <div id="certificateIdOption">
                        <h3>Enter Certificate ID to Verify:</h3>
                        <label for="certificateIdInput">Certificate ID:</label>
                        <input type="text" id="certificateIdInput" name="certificateIdInput" placeholder="Enter certificate ID"><br><br>
                    </div>
                    
                    <!-- Verification Button -->
                    <input type="button" value="Verify" onclick="verifyCertificate()">
                </div>
            </div>
        </form>
    </div>
</body>
</html>
